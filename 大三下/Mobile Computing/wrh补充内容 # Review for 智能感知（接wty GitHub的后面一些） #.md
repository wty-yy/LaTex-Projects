# Review for 智能感知（接wty GitHub的后面一些） #

## 一：数据的传输部分 ##

网络有三个：电信网络、有限电视网络、计算机网络。其中核心最快的是计算机网络

### 1：何为因特网 ###

要理解何为Internet，就必须理解何为network。

Network是由若干结点和连接结点的链路构成，可以想象一个Graph。

而Internet是Network of networks，就是“网络的网络”。

连接在Internet上的计算机就是“主机”。

我们可以想象有一个cloud，cloud的外面连着一个一个主机……主机总而言之都是连在最外圈的，里面是Internet。

Internet的组成，如果从工作方式看，可以分为下面两大块：

- 边缘部分：也就是由所有连在Internet上的主机组成。由用户直接使用，实现通信与共享。
- 核心部分：由网络和连接网络的路由器组成，负责提供连通性和交换。

你可以这样想：有一个大圆：外边部分是主机，也就是Internet的边缘部分，中间是网络和路由器。网络相当于Graph的edge而路由器是Node。

另外2种通信方式：

- C/S客户服务器方式
- P2P对等方式

### 2：因特网的核心部分 ###

核心部分是最复杂的部分，主要是为了给边缘部分提供连通性。

核心部分起到特殊作用的是**路由器（router）**。路由器是实现**分组交换**的关键构件，转发收到的分组。你看到这里还会简单就说路由器就是你家里或者你宿舍的wifi发射器？此方为严格定义也！

路由器提供分组交换，而数据交换有三，分组交换为其中之一。所有的是

- 电路交换
- 报文交换
- 分组交换

先来说一下最简单的电路交换：其实就是一个完全图。

首先是申请占用通信资源，通话期间就是始终占用，最后释放。简称建立-通信-释放。

但这样看是在计算机人看来“暴力穷举”的交换方式。我们知道$n$个电话机， 要实现两两互连，需要$\dfrac{n(n-1)}{2}$个交换线路。这个$O(n^2)$的增长是很大的。

因此我们需要交换机，实际上这里的交换不是exchange而是switch，就是转接。

你现在每次打一些公司的客服电话“xxx查询请按1，xxx咨询请按2，******”，又或者打xjtujwc，然后打到了A部，A让你打B，B又让你打C
…………这其实就是一种交换！

当然电路交换的弊端除了一个线路太多太复杂，还有一个就是效率低

- 计算机数据有突发性
- 导致通信线路利用率非常低

### 3：分组交换 ###

所以下面，正片开始，我们进入分组交换！

- 发送端我们先把长的报文（码字）划分成短的，固定长度的。有时候你的报文太长不便于传输，
- 因为你划分了，所以你必须要知道哪里是哪块，所以每一个段前面，要加一个首部信息。
- 通过分组作为数据传输单元，然后把每个分组发送到接受端。

你可以想象搬家时有一大堆货物，必须分批运。每批货物你都打包，箱子外壳写上需要运送到的地方比如客厅or厨房……

那首部的重要性有何？

- 首部含有地址等控制信息，是交换机根据首部的地址信息，转发到下一个结点交换机。
- 以此存储转发直到达到目的地。
也即搬家工根据你写的内容，搬运给不同人到不同地点

接收端街道分组后，剥去首部，还原出报文。你的货物被新家“接受”后，拆下箱子，就还原出来咯！

分组交换的网存储转发：中间有很多“中转站”就是路由器：对于路由器需要注意：

- 输入和输出端口之间没有直接连线（连了那不就是死循环的“短路”吗）
- 分组的过程是：

   - 先把受到的分组放入缓存
   - 查找转发表，找到目的地址，从哪里转发
   - 分组送到适当的端口转发出去

你平时手机电脑经常看到缓存，就是那些临时的temp文件，现在大致知道什么是缓存了吧！

分组交换的优点与问题如下

- 优点：高效灵活，迅速可靠
- 问题：存在时延（需要排队），存在开销（携带首部）

### 4：计网的结构与 IP 的结构 ###

堆栈式的五层协议你可按照“物联网运营”口诀

- 物理层
- 链路层
- 网络层
- 运输层
- 应用层
  

两个主机发送数据：54321---12345 这个12345就是刚才说的那些层从底到顶。要注意发送主机，543层都会加一个首部，2层会加首部和尾部，一层不加东西，在一层传输。到另一个主机---就是反过来解开。

信号调制--调频调幅调相：联想$A\sin(\omega t+\varphi)$就OK了。

### 5：数字信号 ###

学过信息论的同学都知道信道容量：信号传输的过程会有失真与干扰。

信道中码元传输的速率是有上限的：否则会有码间串扰的问题。采样频率必须大于信号最高频率的2倍时才可以完整保留原始信号的信息。

这里有个公式：信道的极限信息传输速率是
$$
C=W\log_2 \left(1+\dfrac{S}{N}\right)
$$
其中$W$是信宽，$S$是信号平均功率，$N$是信道内部Gauss噪声功率。
该公式表明：信道的带宽或者是信噪比越大，信息的极限传输速率越大。

### 6：信道的复用 ###

马上重点要来了！

不复用就是A to A,B to B独立这样，如果有了复用，那么A传输一段，B传输一段，到一起来了。

频分复用和时分复用其实都不是重点，一个是所有用户在同样时间占用不同带宽。另一个是时间划分，每个用户占用周期性的时隙。

主要还是码分复用！CDM。马上要来重点了！！！

- 码片序列：每个站发送bit1，则发送自己本身的序列；要是发送0，那就发送二进制反码。
- 码片序列是正交的，移动终端是1则发送m码片，是0则发送m码片反码。

若干个基站码分复用发信息，每个基站一个1,-1的码序列。收到了一个码序列，我们如何判断每个基站发送的什么信息？和每个基站的码序列做内积是也！

如收到了$S$，有$A,B,C,D$。我们依次内积
$$
\left<S,A\right > \left<S,B\right > \left<S,C\right > \left<S,D\right >
$$

得到内积1的表示发送1，内积0的表示没发送，内积-1的表示发送了0

然后你会发现，发送1的取本身，发送0的取反码，叠加在一起，就得到了$S$！这里PPT有例题，不要忽视，可能考试！

### 6：IP地址相关知识 ###

**这可是重中之重啦！！！我敢打赌这里百分之二百会考大题！！！**

一个是分类IP地址，一个是子网的划分。

何为IP地址：一段是网络号，一段是主机号！有ABCDE五类地址，

- A类地址：网络号8位首位0，主机号24位
- B类地址：网络号16为前二位10，主机号16位
- C类地址：网络号24为前三位110，主机号8位
- D类地址前四位1110
- E类地址前四位1111

总共32位，8位一字节。IP号的点分十进制：二进制序列每8位一划分，转成十进制。中间用点隔开，不是逗号！不是逗号！不是逗号！

因为8个位最大构成255，所以IP地址里不能有超过255的数，如有直接判错！

另一方面，根据上面的ABC类我们发现：

转成十进制，第一位比较小的往往A类，不可能第一位超过127；B类一般在172左右，C类一般192左右。

IP地址是分等级的，分两个等级，这样的好处是

- 仅分配网络号，方便IP地址管理
- 仅根据主机网络号转发分组，减少路由表占的空间（不用看主机号）

**下面来重要的了！！**

如果不考虑子网划分，给定了一个IP地址，这里要记住有下列：

- 子网掩码：网络号字段全是1，主机号字段全是0
- 网络地址：网络号字段保持和原IP不变，主机号字段全部设0
- 广播地址：网络号字段保持和原IP不变，主机号字段全部设1
- 主机地址与个数：在网络地址与广播地址之间（**不含两端**）的都是允许申请的主机地址。因此主机个数最多$2^n-2$个，$n$是主机号字段位数，减去2是减掉网络的全0和广播的全1。
- IP地址范围：删去两端的网络地址和广播地址，剩下的所在范围就是IP地址范围了。

下一个是考虑子网划分的问题！

如果出现划分子网了，那么我们需要做什么？**从主机位借位！！！**

- 如果需要划分$A$个子网，这里我们往往认为$A=2^k$，那么也即需要借$M=\lceil \log_2 A\rceil$个主机位！也即$k$个主机位(如果满足)
- 这样网络位多了$M$个主机位少了$M$个
- 同样网络地址和广播地址，只针对少了后的主机位全0或者全1。
- 子网掩码中的网络码字段，原来的网络码同时全1，不可变动。而新借来的网络位是可以变动的。
- 同样计算每个的网络地址广播地址主机地址以及个数，并可以写出每个子网IP地址范围。如果题问主机总个数，别忘了乘以子网个数！！！
  

另一方面还有一种就是如200.0.64.0/22，请注意后面/22代表的意思是**网络号是22位**

**这些是必考内容！必考内容！必考内容！**

最后也说下

- 网络层以上使用的是IP地址
- 链路层一下使用的是硬件地址
- 含有硬件地址的首部尾部是MAC帧， 含有IP地址的首部的数据是IP数据报，去掉IP地址就是TCP报文。
- 路由器最高到网络层。

运输层的主要功能是为应用进程之间提供逻辑通信，网络层是为主机之间提供通信。此外，运输层还要对受到的报文进行差错的检测。

运输层需要面向连接的TCP和无连接的UDP。

## 二：编码与校验码部分 ##

### 1：编码 ###

数字通信系统利用数字信号传递信息，其过程为

$$
信息源\to信源编码\to加密\to信道编码\to调制
$$
由此进入信道，其中在信道有噪声。
$$
解调\to信道解码\to解密\to信源解码\to接受
$$

- 信源编码：提升信息传输有效性
- 信道编码：增强抗干扰能力
- 加密解密：确保信息安全
- 数字调制解调：形成适合在信道上传输的信号

RFID的常用编码：反向不归零、**Manchester编码**、单极性归零、差动双相位、**Miller编码**……

- 单极不归零：高电平1，低电平0。其不宜传输。
- 单极性归零：1时有脉冲，0没有电流。可提取位同步信号。这里就是出现1了高电平一会儿也回低电平，而不归零则1就一直高0就一直低。
- **Manchester编码**：半个bit周期，电平的变化来表示：从正变负是1，从负变正是0。通常用于从电子标签到读写器传输，有利于发现数据错误（不允许“没有变化的状态）。如果有不同值，对应的升降会导致互相抵消从而“不变”，从而找出错误判定碰撞位置。
- 差动双相：半个bit周期，有边沿为0，没边沿为1。
- **Miller编码**：半个bit周期，有边沿为1，没边沿为0。
- 脉冲间歇：暂停时间$t$则为1，$2t$则为0
- PIE编码：脉冲下降沿之间的不同时间宽度表示

物理层的通信一个是阅读器到标签，一个是标签到阅读器。前者PIE编码，后者Miller-FM0编码。

### 2：校验码 ###

**又是一个大重点！！！**

- 奇偶校验码：在有效信息$n$为前面加一位为奇偶校验位。奇数校验码加1，偶数校验码加0但是只能检测奇数个错误位，不能检测偶数个错误位，且不能确定错误发往位置
  
- - 分为简单奇偶校验，以及交叉奇偶校验。注意交叉就是行也检测列也检测。
- - 每一行或者每一列，都是奇数个1返回1，偶数个1返回0。
- **海明校验码** ：信息位如果是$k$，则要增加$r$为冗余位。而且必须满足$2^r\geqslant k+r+1$
- - 其构建方法：所有$2^n$的位置设置为奇偶校验位，其它则是待编码位。3，5，6，7，……从$2^k$出发，校验$2^k$位，跳$2^k$位。校验的数字中奇数个是1那就置1，偶数个1置0。
- - 刚才那个是根据原码字构造海明校验码字。验证每一个校验码字，校验位不正确的位置数相加，就是原信息码的不正确的位置（在海明码下）
- - 可能一开始让你设定初始冗余码。
- - 根据海明码（加了冗余码）反推回原来信息码：首先必须检测是否有错误的：我们先设置$err=0$，先对1，3，5，7……偶校验，如果是1（就是奇数个1）那么加1；然后2,3,6,7……是1则加2（$2^1$）……这样$err$加在一起，得到的和就是错误码的位置了。然后把错误的码取反，再去掉$2^k$位置的检测冗余码，就是原来的信息码。

- **循环冗余检测** 这个我们可以结合我们熟悉的多项式带余除法。我们定义一个多项式为一个二进制序列：系数为1的位为1，为0时位为0。这样也就是如$x^5+x^3+x+1$为101011。
- - 如果是信息码加生成码，那么生成码要判断对应几次多项式，那就先在信息码后面加几个0，然后除以生成码带余除法。最后得到一个余数。得到的余数码是冗余码，补到原信息码后面。
- - 如果是接受到的含冗余码的码和生成码，可以判断是否发错。只要把接受的含冗余码的码除以那个生成码，看余数是否为0即可。不是0那就说明发错了。
- **二进制格雷码** 